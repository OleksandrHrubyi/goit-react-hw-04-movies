(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{14:function(t,e,n){t.exports={btn:"buttonMain_btn__BTQ9Q",base:"buttonMain_base__2Oogs",active:"buttonMain_active__3imCc"}},19:function(t,e,n){t.exports={img:"movieDetailsPage_img__AcLFP",imgBox:"movieDetailsPage_imgBox__3EQmo",link:"movieDetailsPage_link__XZXvJ"}},22:function(t,e,n){t.exports={title:"trendList_title__254rA"}},24:function(t,e,n){t.exports={container:"header_container__3hoMn"}},25:function(t,e,n){t.exports={container:"container_container__3TiUU"}},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(21),a=n.n(r),i=n(6),s=n(7),o=n(9),h=n(8),j=n(1),u=(n(31),n(2)),l="ded316cd594a4a167b1b831fae420aff",m="https://api.themoviedb.org";var b=n(22),p=n.n(b),v=n(11);var d=function(t){var e=t.list;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ol",{children:e.map((function(t){return Object(c.jsx)("li",{children:Object(c.jsx)(v.b,{to:"/movies/".concat(t.id),children:Object(c.jsx)("h2",{className:p.a.title,children:t.original_title})})},t.id)}))})})},O=function(t){Object(o.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={trend:[]},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("".concat(m,"/3/trending/movie/week?api_key=").concat(l)).then((function(t){return t.ok?t.json():Promise.reject(new Error("Something go wrong, try again"))})).then((function(e){return t.setState({trend:e.results})}))}},{key:"render",value:function(){var t=this.state.trend;return Object(c.jsx)(d,{list:t})}}]),n}(j.Component),f=n(24),x=n.n(f),g=n(14),y=n.n(g);var _=function(t){var e=t.name,n=t.path;return Object(c.jsx)(v.c,{exact:!0,to:n,className:y.a.base,activeClassName:y.a.active,children:Object(c.jsx)("button",{className:y.a.btn,type:"button",children:e})})};var w=function(){return Object(c.jsxs)("div",{className:x.a.container,children:[Object(c.jsx)(_,{path:"/",name:"Home"}),Object(c.jsx)(_,{path:"/movies",name:"Movies"})]})},k=n(25),S=n.n(k);var C=function(t){var e=t.children;return Object(c.jsx)("div",{className:S.a.container,children:e})},N=function(t){Object(o.a)(n,t);var e=Object(h.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(C,{children:[Object(c.jsx)(w,{}),Object(c.jsx)(O,{})]})})}}]),n}(j.Component),P=function(t){Object(o.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={searchValue:""},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.searchValue)},t.handleChange=function(e){t.setState({searchValue:e.currentTarget.value})},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state.searchValue;return Object(c.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",value:t,onChange:this.handleChange})}),Object(c.jsx)("button",{type:"submit",children:"Search"})]})}}]),n}(j.Component),A=function(t){Object(o.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={searchfilms:"",films:[]},t.handleOnSubmit=function(e){t.setState({searchfilms:e}),t.props.history.push({pathname:t.props.location.pathname,search:"query=".concat(e)})},t}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n,c=this;e.searchfilms!==this.state.searchfilms&&(n=this.state.searchfilms,fetch("".concat(m,"/3/search/movie?api_key=").concat(l,"&query=").concat(n)).then((function(t){return t.ok?t.json():Promise.reject(new Error("Something go wrong, try again"))}))).then((function(t){c.setState({films:t.results})}))}},{key:"render",value:function(){this.state.searchfilms;return console.log(this.props.match),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(C,{children:[Object(c.jsx)(w,{}),Object(c.jsx)(P,{onSubmit:this.handleOnSubmit}),Object(c.jsx)(d,{list:this.state.films})]})})}}]),n}(j.Component);var D=function(){return Object(c.jsx)(C,{children:Object(c.jsx)("h1",{children:"This page not found"})})},I=n(19),M=n.n(I),E="https://image.tmdb.org/t/p/w500/";var F=function(t){var e=t.movies;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:M.a.imgBox,children:Object(c.jsx)("img",{className:M.a.img,src:"".concat(E).concat(e.poster_path),alt:e.title})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:e.title}),Object(c.jsx)("h3",{children:e.vote_average}),Object(c.jsx)("span",{children:e.overview}),Object(c.jsx)("span",{children:"Genres:"}),Object(c.jsx)("ul",{children:e.genres&&e.genres.map((function(t){return Object(c.jsxs)("li",{children:[" ",t.name]},t.id)}))})]})]})};var B=function(t){var e=t.cast;return Object(c.jsx)("ul",{children:e.map((function(t){return Object(c.jsxs)("li",{children:[Object(c.jsx)("img",{src:"".concat(E).concat(t.profile_path),alt:t.name}),Object(c.jsx)("h3",{children:t.name}),Object(c.jsx)("h4",{children:t.character})]},t.id)}))})};var T=function(t){var e=t.reviews;return Object(c.jsx)(c.Fragment,{children:0===e.length?Object(c.jsx)("h3",{children:"No reviews"}):Object(c.jsx)("ul",{children:e.map((function(t){return Object(c.jsxs)("li",{children:[Object(c.jsxs)("h3",{children:["Author: ",t.author]}),Object(c.jsx)("span",{children:t.content})]},t.id)}))})})},V=function(t){Object(o.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={movieInfo:{},credits:[],reviews:[]},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t,e=this;(t=this.props.match.params.moviesId,fetch("".concat(m,"/3/movie/").concat(t,"?api_key=").concat(l)).then((function(t){return t.ok?t.json():Promise.reject(new Error("Something go wrong, try again"))}))).then((function(t){e.setState({movieInfo:t})})),function(t){return fetch("".concat(m,"/3/movie/").concat(t,"/credits?api_key=").concat(l)).then((function(t){return t.ok?t.json():Promise.reject(new Error("Something go wrong, try again"))}))}(this.props.match.params.moviesId).then((function(t){e.setState({credits:t.cast})})),function(t){return fetch("".concat(m,"/3/movie/").concat(t,"/reviews?api_key=").concat(l)).then((function(t){return t.ok?t.json():Promise.reject(new Error("Something go wrong, try again"))}))}(this.props.match.params.moviesId).then((function(t){e.setState({reviews:t.results})}))}},{key:"render",value:function(){console.log(this.props.match);var t=this.props.match.path,e=this.state,n=e.movieInfo,r=e.credits,a=e.reviews;return Object(c.jsxs)(C,{children:[Object(c.jsx)(F,{movies:n,path:this.props.match.url}),Object(c.jsx)(_,{name:"Cast",path:"".concat(this.props.match.url,"/cast")}),Object(c.jsx)(_,{name:"Review",path:"".concat(this.props.match.url,"/review")}),Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"".concat(t,"/cast"),render:function(t){return Object(c.jsx)(B,{cast:r})}}),Object(c.jsx)(u.a,{exact:!0,path:"".concat(t,"/review"),render:function(t){return Object(c.jsx)(T,{reviews:a})}})]})]})}}]),n}(j.Component),q=function(t){Object(o.a)(n,t);var e=Object(h.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"/",component:N}),Object(c.jsx)(u.a,{exect:!0,path:"/movies/:moviesId",component:V}),Object(c.jsx)(u.a,{exect:!0,path:"/movies",component:A}),Object(c.jsx)(u.a,{component:D})]})})}}]),n}(j.Component);n(37);a.a.render(Object(c.jsx)(v.a,{children:Object(c.jsx)(q,{})}),document.querySelector("#root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.5fca7735.chunk.js.map